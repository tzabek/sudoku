$grid-size: 9;

#board {
  padding: 7px;
  background: black;
  display: grid;
  grid-template-rows: repeat($grid-size, auto);
  grid-template-columns: repeat($grid-size, auto);
  column-gap: 2px;
  row-gap: 2px;
}

.cell {
  width: 50px;
  height: 50px;
  background: white;
  display: grid;
  justify-items: center;
  align-items: center;

  &:nth-child(3n):not(:nth-child(9n)) {
    margin-right: 3px;
  }

  &:nth-child(27n + 28),
  &:nth-child(27n + 29),
  &:nth-child(27n + 30),
  &:nth-child(27n + 31),
  &:nth-child(27n + 32),
  &:nth-child(27n + 33),
  &:nth-child(27n + 34),
  &:nth-child(27n + 35),
  &:nth-child(27n + 36) {
    margin-top: 3px;
  }

  > input {
    width: 100%;
    height: 100%;
    border: none;
    outline: none;
    text-align: center;
    background: transparent;
    transition: background 0.3s ease, color 0.3s ease;

    &:hover {
      background: rgb(214, 233, 240);
    }

    &:focus {
      background: lightblue;
    }
  }
}

@for $x from 0 through ($grid-size - 1) {
  @for $y from 0 through ($grid-size - 1) {
    .sudoku-board:has(.cell[data-x='#{$x}'][data-y='#{$y}']:focus-within) {
      .cell[data-x='#{$x}'],
      .cell[data-y='#{$y}'] {
        background: rgb(214, 233, 240);
        transition: background 0.3s ease, color 0.3s ease;
      }
    }
  }
}
